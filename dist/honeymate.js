!function(){"use strict";var e=function(e,t){return new Promise(function(n){for(var r in t)e.style[r]=t[r];n()})},t=!1,n=function(e,t){t.opacity="ease-out";var n="";return Object.keys(t).forEach(function(r){n+=r+" "+e+"ms "+t[r]+", "}),n.substring(0,n.length-2)},r=/url\(\s*(['"]?)(.*)\1\s*\)/,i=function(e){var t=getComputedStyle(e);if(""!==t.background||""!==t.backgroundImage){var n=t.background.match(r);return n?n[2]:""}return""},o=function(e){return new Promise(function(t){var n=Array.from(e.querySelectorAll("*"));n.push(e);var r=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if("IMG"===u.tagName)t.push(u.getAttribute("src"));else{var c=i(u);c&&t.push(c)}}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t}(n);if(0===r.length)t(0);else{var o=[];r.forEach(function(e){o.push(function(e){return new Promise(function(t){var n=new Image;n.onload=t,n.onerror=t,n.src=e})}(e))}),Promise.all(o).then(function(){t(r.length)})}})},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),e.style.opacity=0,this.node=e,this.options=e.dataset}return a(r,[{key:"isLoaded",value:function(){var e=this;return new Promise(function(t){o(e.node).then(function(){return setTimeout(function(){return t()},e.parameters.hold)})})}},{key:"animate",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.effect;e(this.node,n).then(function(){t.isLoaded().then(function(){setTimeout(function(){t.expose()},t.parameters.delay)})})}},{key:"expose",value:function(){var t=this;e(this.node,{transform:"",opacity:1}).then(function(){var e;t.parameters.spin&&(e=t.spinner,requestAnimationFrame(function(){e.style.opacity=0,setTimeout(function(){document.body.removeChild(e)},1500)}))})}},{key:"options",set:function(r){var i;this.parameters={direction:function(e){return e.right?2:e.down?3:e.left?4:1}(i=r),duration:i.duration||"640",effect:i.effect||"fade",delay:parseInt(i.delay,10)||0,hold:parseInt(i.hold,10)||0,scale:i.scale||".87",await:i.await||null,origin:i.origin||"bottom",offset:i.up||i.down||i.left||i.right?i.up||i.down||i.left||i.right:32,spin:"true"===i.spin,spinColor:i["spin-color"]||"#000",spinSize:i["spin-size"]||"24",continue:"true"===i.continue},this.effect=function(e){var t,r,i,o=e.duration,a={};switch(e.effect){case"zoom":a.transition=n(o,{transform:"cubic-bezier(0, 0.7, 0.3, 1)"}),a.transform="scale("+e.scale+")";break;case"helix":a.transition=n(o,{transform:"cubic-bezier(0, 0.75, 0.25, 1)"}),a.transform="scale("+e.scale+") rotate(90deg)";break;case"slide":a.transition=n(o,{transform:"cubic-bezier(0, 0.9, 0.1, 1)"}),a.transform=(t=e.direction,r=e.offset,i=1===t||3===t?"Y":"X","translate"+(i+=1===t||2===t?"(-":"(")+r+"px)"),a.transformOrigin=e.origin;break;case"relax":a.transition=n(o,{transform:"cubic-bezier(0, 0, 0.001, 1)"}),a.transform="scaleY("+e.scale+")",a.transformOrigin=e.origin;break;default:case"fade":a.transition=n(o,{})}return a}(this.parameters),this.parameters.spin&&(this.spinner=function(n){if(!t){var r=document.createElement("style");r.innerHTML="@keyframes honeySpin{0%{transform:rotate(-360deg)}to{transform:rotate(360deg)}}",document.head.appendChild(r),t=!0}var i,o,a=n.node,s=n.parameters,u=a.getBoundingClientRect(),c=document.createElement("div");return c.innerHTML=(i=s.spinSize,o=s.spinColor,'<svg width="'+i+'" height="'+i+'" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="animation: honeySpin 1.7s linear infinite"><circle cx="50" cy="50" fill="none" stroke="'+o+'" stroke-width="10" r="35" stroke-dasharray="90 60"></circle></svg>'),e(c,{position:"absolute",top:u.top+document.documentElement.scrollTop+"px",left:u.left+document.documentElement.scrollLeft+"px",width:a.offsetWidth+"px",height:a.offsetHeight+"px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity .23s ease-out"}).then(function(){return document.body.appendChild(c)}),c}(this))},get:function(){return this.parameters}}]),r}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=new Map,f=function(e){if(c.has(e))return c[e];var t=new s(e);return c.set(e,t),t},l=function(e,t){if(e.continue&&t>1)return function(e){return c.get(Array.from(c.keys())[e])}(t-1);if(e.await){var n=document.getElementById(e.await);if(n)return f(n)}return-1},d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return u(e,null,[{key:"initiate",value:function(){for(var e=document.querySelectorAll(".honey"),t=function(t){var n=f(e[t]),r=l(n.parameters,t);-1===r?n.animate():r.isLoaded().then(function(){setTimeout(function(){n.animate()},n.parameters.hold)})},n=0;n<e.length;n++)t(n)}},{key:"generateNode",value:function(e){return new s(e)}}]),e}();document.addEventListener("DOMContentLoaded",function(){var e=document.createElement("style");e.innerHTML=".honey{opacity:0}",document.head.appendChild(e),d.initiate()})}();
