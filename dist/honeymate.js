!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(e){return e.right?2:e.down?3:e.left?4:1},o=function(e,t){return new Promise(function(n){for(var r in t)e.style[r]=t[r];n(e)})},a=function(e,t){t.opacity="ease-out";for(var n="",i=Object.entries(t),o=0;o<i.length;o++){var a=r(i[o],2),s=a[0],c=a[1];n+="".concat(s," ").concat(e,"ms ").concat(c,", ")}return n.substring(0,n.length-2)},s=/url\(\s*(['"]?)(.*)\1\s*\)/,c=function(e){var t=getComputedStyle(e);if(t.background&&""!==t.background){var n=t.background.match(s);return n?n[2]:""}if(t.backgroundImage&&""!==t.backgroundImage){var r=t.backgroundImage.match(s);return r?r[2]:""}},u=function(e){return new Promise(function(t){var n=Array.from(e.querySelectorAll("*"));n.push(e);var r=function(e){for(var t=[],n=0;n<e.length;n++)if("IMG"===e[n].tagName)t.push(e[n].src);else{var r=c(e[n]);r&&t.push(r)}return t}(n);if(0===r.length)t();else{var i=[];r.forEach(function(e){i.push(function(e){return new Promise(function(t){var n=new Image;n.onload=t,n.onerror=t,n.src=e})}(e))}),Promise.all(i).then(t)}})},f=function(){function t(n){e(this,t),n.style.opacity=0,this.node=n,this.node.classList.add("honey_ready"),this.options=n.dataset}return n(t,[{key:"isLoaded",value:function(){var e=this;return new Promise(function(t){u(e.node).then(function(){return setTimeout(function(){return t()},e.parameters.hold)})})}},{key:"isInView",value:function(){var e=this;return new Promise(function(t){var n=new IntersectionObserver(function(e){e[0].isIntersecting&&e[0].time>70&&(t(),n.disconnect())});n.observe(e.node)})}},{key:"animate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.effect;o(this.node,t).then(function(){Promise.all([e.parameters.expose?e.isInView():null,e.isLoaded()]).then(function(){setTimeout(function(){return e.expose()},e.parameters.delay)})})}},{key:"expose",value:function(){var e=this;o(this.node,{transform:"",opacity:1}).then(function(){var t;e.parameters.spin&&(t=e.spinner,requestAnimationFrame(function(){t.style.opacity=0,setTimeout(function(){document.body.removeChild(t)},500)}))})}},{key:"options",set:function(e){var t,n,r,s,c,u,f,l;this.parameters={direction:i(t=e),duration:t.duration||640,effect:t.effect||"",expose:"true"===t.expose&&"IntersectionObserver"in window,delay:parseInt(t.delay,10)||0,hold:parseInt(t.hold,10)||0,scale:t.scale||".87",await:t.await||null,origin:t.origin||"bottom",offset:t.up||t.down||t.left||t.right?t.up||t.down||t.left||t.right:32,spin:"true"===t.spin,spinColor:t["spin-color"]||"#000",spinSize:t["spin-size"]||24,continue:"true"===t.continue},this.effect=function(e){var t,n,r,i=e.duration,o={};switch(e.effect){case"zoom":o.transition=a(i,{transform:"cubic-bezier(0,.7,.3,1)"}),o.transform="scale(".concat(e.scale,")");break;case"helix":o.transition=a(i,{transform:"cubic-bezier(0,.75,.25,1)"}),o.transform="scale(".concat(e.scale,") rotate(90deg)");break;case"slide":o.transition=a(i,{transform:"cubic-bezier(0,.9,.1,1)"}),o.transform=(t=e.direction,n=e.offset,r=1===t||3===t?"Y":"X","translate".concat(r+=1===t||2===t?"(-":"(").concat(n,"px)")),o.transformOrigin=e.origin;break;case"relax":o.transition=a(i,{transform:"cubic-bezier(0,0,0,1)"}),o.transform="scaleY(".concat(e.scale,")"),o.transformOrigin=e.origin;break;default:o.transition=a(i,{})}return o}(this.parameters),this.parameters.spin&&(this.spinner=(c=(n=this).node,u=c.getBoundingClientRect(),f=document.createElement("div"),l=document.documentElement,f.innerHTML=(r=n.parameters.spinSize,s=n.parameters.spinColor,'<svg width="'.concat(r,'" height="').concat(r,'" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="animation: honeySpin 1.7s linear infinite"><circle cx="50" cy="50" fill="none" stroke="').concat(s,'" stroke-width="10" r="35" stroke-dasharray="90 60"></circle></svg>')),setTimeout(function(){return o(f,{position:"absolute",top:u.top+l.scrollTop+"px",left:u.left+l.scrollLeft+"px",width:c.offsetWidth+"px",height:c.offsetHeight+"px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity .23s ease-out"}).then(function(){return document.body.appendChild(f)})},200),f))},get:function(){return this.parameters}}]),t}(),l=new Map,d=function(e){if(l.has(e))return l.get(e);var t=new f(e);return l.set(e,t),t},m=function(e,t){if(e.continue&&t>1)return r=t-1,l.get(Array.from(l.keys())[r]);if(e.await){var n=document.querySelectorAll("#"+e.await)[0];return n?d(n):void 0}var r},h=function(){function t(){e(this,t)}return n(t,null,[{key:"initiate",value:function(){for(var e=document.querySelectorAll(".honey"),t=function(t){var n=d(e[t]),r=m(n.parameters,t);r?r.isLoaded().then(function(){setTimeout(function(){return n.animate()},n.parameters.hold)}):n.animate()},n=0;n<e.length;n++)t(n)}},{key:"generateNode",value:function(e){return new f(e)}}]),t}();window.Honeymate=h,document.addEventListener("DOMContentLoaded",h.initiate),document.write("<style>.honey{opacity:0}@keyframes honeySpin{0%{transform:rotate(-360deg)}to{transform:rotate(360deg)}}</style>")}();
