!function(){"use strict";var e=function(e,t){t.opacity="ease-out";var n="";return Object.keys(t).forEach(function(r){n+=r+" "+e+"ms "+t[r]+", "}),n.substring(0,n.length-2)},t=/url\(\s*(['"]?)(.*)\1\s*\)/,n=function(e){var n=getComputedStyle(e);if(""!==n.background||""!==n.backgroundImage){var r=n.background.match(t);return r?r[2]:""}return""},r=function(e){return new Promise(function(t){var r=Array.from(e.querySelectorAll("*"));r.push(e);var a=function(e){var t=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if("IMG"===u.tagName)t.push(u.getAttribute("src"));else{var c=n(u);c&&t.push(c)}}}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return t}(r);if(0===a.length)t(0);else{var i=[];a.forEach(function(e){i.push(function(e){return new Promise(function(t){var n=new Image;n.onload=t,n.onerror=t,n.src=e})}(e))}),Promise.all(i).then(function(){t(a.length)})}})},a=function(){function t(e){babelHelpers.classCallCheck(this,t),e.style.opacity=0,this.node=e,this.setParameters(e.dataset)}return babelHelpers.createClass(t,[{key:"setParameters",value:function(t){var n;this.parameters={direction:function(e){return e.right?2:e.down?3:e.left?4:1}(n=t),duration:n.duration?n.duration:640,effect:n.effect?n.effect:"fade",expose:!!n.expose&&"true"===n.expose,delay:n.delay?parseInt(n.delay,10):0,hold:n.hold?parseInt(n.hold,10):0,scale:n.scale?n.scale:.87,await:n.await?n.await:null,continue:"true"===n.continue,origin:n.origin?n.origin:"bottom",offset:n.up||n.down||n.left||n.right?n.up||n.down||n.left||n.right:32},this.effect=function(t){var n,r,a,i=t.duration,o={};switch(t.effect){case"zoom":o.transition=e(i,{transform:"cubic-bezier(0, 0.7, 0.3, 1)"}),o.transform="scale("+t.scale+")";break;case"helix":o.transition=e(i,{transform:"cubic-bezier(0, 0.75, 0.25, 1)"}),o.transform="scale("+t.scale+") rotate(90deg)";break;case"slide":o.transition=e(i,{transform:"cubic-bezier(0, 0.9, 0.1, 1)"}),o.transform=(n=t.direction,r=t.offset,a=1===n||3===n?"Y":"X","translate"+(a+=1===n||2===n?"(-":"(")+r+"px)"),o.transformOrigin=t.origin;break;case"relax":o.transition=e(i,{transform:"cubic-bezier(0, 0, 0.001, 1)"}),o.transform="scaleY("+t.scale+")",o.transformOrigin=t.origin;break;default:case"fade":o.transition=e(i,{})}return o}(this.parameters)}},{key:"applyEffect",value:function(e){var t=this;return new Promise(function(n){var r=0;for(var a in e)t.node.style[a]=e[a],r++;n(r)})}},{key:"isLoaded",value:function(){var e=this;return new Promise(function(t){r(e.node).then(function(){return setTimeout(function(){return t()},e.parameters.hold)})})}},{key:"animate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.effect;this.applyEffect(t).then(function(){e.isLoaded().then(function(){setTimeout(function(){e.expose()},e.parameters.delay)})})}},{key:"expose",value:function(){this.applyEffect({transform:"",opacity:1})}}]),t}(),i=new Map,o=function(e){if(i.has(e))return i[e];var t=new a(e);return i.set(e,t),t},s=function(e,t){if(e.continue&&t>1)return function(e){return i.get(Array.from(i.keys())[e])}(t-1);if(e.await){var n=document.getElementById(e.await);if(n)return o(n)}return-1},u=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"initiate",value:function(){for(var e=document.querySelectorAll(".honey"),t=function(t){var n=o(e[t]),r=s(n.parameters,t);-1===r?n.animate():r.isLoaded().then(function(){setTimeout(function(){n.animate()},n.parameters.hold)})},n=0;n<e.length;n++)t(n)}},{key:"generateNode",value:function(e){return new a(e)}}]),e}();document.addEventListener("DOMContentLoaded",function(){var e=document.createElement("style");e.innerHTML=".honey{opacity:0}",document.head.appendChild(e),u.initiate()})}();
